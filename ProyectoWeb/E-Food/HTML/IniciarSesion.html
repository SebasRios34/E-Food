<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Iniciar Sesion</title>

    <link rel="stylesheet" href="/ProyectoWeb/E-Food/CSS/iniciarSesion.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>

 <!--este script es el que se utiliza para implementar el API de facebook
segun la documentacion de developers.facebook.com de donde se consigue el
API se debe implementar en el codigo HTML. Se corre de manera asincrona por 
lo que no tendra ningun efecto en el resto del codigo-->   
<script>
    window.fbAsyncInit = function() {
      FB.init({
        appId      : '988215714846225',
        cookie     : true,
        xfbml      : true,
        version    : 'v5.0'
      });

      //esta funcion verifica si ya hay un usuario loggeado a la aplicacion
      FB.getLoginStatus(function(response) {
        statusChangeCallback(response);
      }); 
        
    };
  
    (function(d, s, id){
       var js, fjs = d.getElementsByTagName(s)[0];
       if (d.getElementById(id)) {return;}
       js = d.createElement(s); js.id = id;
       js.src = "https://connect.facebook.net/en_US/sdk.js";
       fjs.parentNode.insertBefore(js, fjs);
     }(document, 'script', 'facebook-jssdk'));

     function statusChangeCallBack(response){
         if(response.status === 'connected'){
            console.log('loggeado');
         }else{
             console.log('no loggeado');
         }
     }
     
     
    function checkLoginState() {
    FB.getLoginStatus(function(response) {
        statusChangeCallback(response);
    });
}
  </script>
              
    <fb:login-button 
    scope="public_profile,email"
    onlogin="checkLoginState();">
    </fb:login-button>

    <div class="container">
        <form  id="form" onsubmit="return validation()" action="/ProyectoWeb/E-Food/HTML/OpcionesUsuario.html">
            <div class="row">
                <h2 style="text-align:center">Iniciar Sesion</h2>
                <div class="vl">
                    <span class="vl-innertext">or</span>
                </div>

                <div class="col">
                    <a href="/ProyectoWeb/E-Food/HTML/IniciarSesion.html" class="fb btn">
                        <i class="fa fa-facebook fa-fw"></i>Inicar Sesion con Facebook
                    </a>
                    <a href="#" class="google btn"><i class="fa fa-google fa-fw">
                        </i> Inicar Sesion con Google
                    </a>
                </div> 
                    <div class="col">
                        <div class="hide-md-lg">
                            <p>Or sign in manually:</p>
                        </div>
                        <div id = "error"></div>
                        <form >
                            <div class ="input_field">
                                <input type="text" name="usuario" id="usuario" placeholder="Usuario" required>
                            </div>
                            <div class="input_field">
                                <input type="password" name="password" id="password" placeholder="Contraseña" required>
                            </div>
                           <div class="btn">
                               <button type="submit">Ingresar</button>
                           </div>
                            <input type="submit" value="Ingresar" href="/ProyectoWeb/E-Food/HTML/MenuPrincipal.html">
                        </form>
                    </div>
            </div>
        </form>
    </div>

    <div class="bottom-container">
        <div class="row">
            <div class="col">
                <a id="btnoption1" href="/ProyectoWeb/E-Food/HTML/Registrarme.html" class="btn">Registrarme</a>
            </div>
            <div class="col">
                <a id="btnoption2" href="/ProyectoWeb/E-Food/HTML/OlvidoContrasena.html" class="btn">Olvido su contraseña?</a>
            </div>
        </div>
    </div>

    <script src="/ProyectoWeb/E-Food/JS/inicioSesion.js"></script>
</body>



</html>